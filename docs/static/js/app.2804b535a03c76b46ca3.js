webpackJsonp([1],{100:function(t,a,s){"use strict";function e(t){s(101)}var o=s(46),r=s(104),i=s(15),n=e,d=i(o.a,r.a,!1,n,null,null);a.a=d.exports},101:function(t,a){},102:function(t,a){},103:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-col",{attrs:{md:"2",sm:"12"}},[s("b-card",{staticClass:"mb-2",attrs:{tag:"article"}},[s("b-img",{staticClass:"m-1",staticStyle:{"max-width":"120px"},attrs:{rounded:"circle",top:!0,src:t.foto,alt:"img"}}),t._v(" "),s("p",{staticClass:"card-text"},[t._v("\n      "+t._s(t.nome)+"\n    ")]),t._v(" "),s("b-button",{attrs:{to:"/deputado/"+t.numero,variant:"primary"}},[t._v("Ver detalhes")])],1)],1)},o=[],r={render:e,staticRenderFns:o};a.a=r},104:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-container",{attrs:{fluid:""}},[0!=t.deputados.length?s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{attrs:{id:"nome",label:"Nome do deputado","label-for":"inputNome",description:"Pesquie o deputado pelo nome"}},[s("b-form-input",{attrs:{id:"inputNome",type:"text",placeholder:"Tiririca"},model:{value:t.filtroDeputados,callback:function(a){t.filtroDeputados=a},expression:"filtroDeputados"}})],1)],1),t._v(" "),t._l(t.deputadosFiltrados,function(t){return s("card-dep",{attrs:{nome:t.nome,foto:t.urlFoto,numero:String(t.id)}})})],2):t._e()],1)},o=[],r={render:e,staticRenderFns:o};a.a=r},105:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-container",{attrs:{fluid:""}},[s("div",{staticClass:"hello"},[s("h1",[t._v("Deputados - Dados abertos")]),t._v(" "),s("b-alert",{attrs:{show:""}},[t._v("Todos os dados apresentados são disponibilizados pela câmara dos deputados.")]),t._v(" "),s("lista-dep")],1)])},o=[],r={render:e,staticRenderFns:o};a.a=r},106:function(t,a,s){"use strict";function e(t){s(107)}var o=s(49),r=s(108),i=s(15),n=e,d=i(o.a,r.a,!1,n,null,null);a.a=d.exports},107:function(t,a){},108:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-container",{attrs:{fluid:""}},[void 0!=t.deputado.ultimoStatus?s("div",{staticClass:"detalhes-dep"},[s("b-img",{attrs:{rounded:"circle",src:t.deputado.ultimoStatus.urlFoto}}),t._v(" "),s("h1",[t._v(t._s(t.deputado.nomeCivil))]),t._v(" "),s("p",[t._v("\n      Partido: "+t._s(t.deputado.ultimoStatus.siglaPartido)),s("br"),t._v("\n      Município de nascimento: "+t._s(t.deputado.municipioNascimento)),s("br"),t._v("\n      UF de nascimento: "+t._s(t.deputado.ufNascimento)+" "),s("br"),t._v("\n      Escolaridade: "+t._s(t.deputado.escolaridade)+" "),s("br"),t._v("\n      Email: "+t._s(t.deputado.ultimoStatus.gabinete.email)+" "),s("br"),t._v("\n      Condição eleitoral: "+t._s(t.deputado.ultimoStatus.condicaoEleitoral)+" "),s("br"),t._v("\n      Total gasto em "+t._s(t.ano_pesquisa)+": "),s("strong",[t._v("R$"+t._s(t.totalGastoAno))]),t._v(" "),s("br"),t._v("\n      Total gasto filtrado: "),s("strong",[t._v("R$"+t._s(t.totalGastoFiltrado))]),t._v(" "),s("br")])],1):t._e(),t._v(" "),s("b-card",{attrs:{"no-body":""}},[s("b-tabs",{attrs:{card:""}},[s("b-tab",{attrs:{title:"Despesas",active:""}},[s("b-row",[s("line-chart",{attrs:{data:t.dadosGraficos}})],1),t._v(" "),s("b-row",{staticClass:"mb-3"},[s("b-col",{attrs:{cols:"12"}},[s("b-form-select",{staticClass:"mb-3",attrs:{options:t.options},on:{input:t.buscarDespesas},model:{value:t.ano_pesquisa,callback:function(a){t.ano_pesquisa=a},expression:"ano_pesquisa"}})],1),t._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-input",{staticClass:"mb-3",attrs:{type:"text",placeholder:"Pesquise nas despesas..."},model:{value:t.filtro,callback:function(a){t.filtro=a},expression:"filtro"}})],1),t._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-table",{attrs:{filter:t.filtro,"per-page":t.itensPorPagina,"current-page":t.paginaAtual,responsive:"",bordered:"",striped:"",hover:"",fields:t.fields,items:t.despesas},on:{filtered:t.onFiltered}})],1),t._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-pagination",{staticClass:"my-0",attrs:{align:"center","total-rows":t.linhasTotais,"per-page":t.itensPorPagina},model:{value:t.paginaAtual,callback:function(a){t.paginaAtual=a},expression:"paginaAtual"}})],1)],1)],1),t._v(" "),s("b-tab",{attrs:{title:"Proposições (propostas de leis)"}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-table",{attrs:{"per-page":t.itensPorPagina,"current-page":t.paginaAtualProposicoes,responsive:"",bordered:"",striped:"",hover:"",fields:t.fieldsProposicoes,items:t.proposicoes}})],1)],1)],1)],1)],1)],1)},o=[],r={render:e,staticRenderFns:o};a.a=r},161:function(t,a){},178:function(t,a){},264:function(t,a){},44:function(t,a,s){"use strict";a.a={name:"app"}},45:function(t,a,s){"use strict";var e=s(100);a.a={name:"hello",components:{ListaDep:e.a}}},46:function(t,a,s){"use strict";var e=s(47);a.a={name:"lista-dep",data:function(){return{api:"https://dadosabertos.camara.leg.br/api/v2/deputados?itens=99&ordenarPor=nome",deputados:[],filtroDeputados:""}},mounted:function(){this.buscarDeputados()},computed:{deputadosFiltrados:function(){if(0===this.deputados.length)return{};var t=this.filtroDeputados;return this.deputados.filter(function(a){return a.nome.match(t.toUpperCase())})}},methods:{buscarDeputados:function(){var t=this;this.$http.get(this.api).then(function(a){t.deputados=a.data.dados;for(var s=0;s<a.data.links.length;s++)if("next"===a.data.links[s].rel){t.buscarDeputadosUrl(a.data.links[s].href);break}})},buscarDeputadosUrl:function(t){var a=this;this.$http.get(t).then(function(t){a.deputados=a.deputados.concat(t.data.dados);for(var s=0;s<t.data.links.length;s++)if("next"===t.data.links[s].rel){a.buscarDeputadosUrl(t.data.links[s].href);break}})}},components:{CardDep:e.a}}},47:function(t,a,s){"use strict";function e(t){s(102)}var o=s(48),r=s(103),i=s(15),n=e,d=i(o.a,r.a,!1,n,null,null);a.a=d.exports},48:function(t,a,s){"use strict";a.a={name:"card-dep",props:{nome:String,numero:String,foto:String}}},49:function(t,a,s){"use strict";var e=s(47);a.a={name:"detalhes-dep",data:function(){return{api:"https://dadosabertos.camara.leg.br/api/v2/deputados/",deputado:{},despesas:[],despesas_filtradas:[],ano_pesquisa:0,fields:{ano:{key:"ano",label:"Ano"},mes:{key:"mes",label:"Mês"},tipoDespesa:{key:"tipoDespesa",label:"Tipo de despesa"},valorLiquido:{key:"valorLiquido",label:"Total líquido"},dataDocumento:{key:"dataDocumento",label:"Data do documento"},nomeFornecedor:{key:"nomeFornecedor",label:"Fornecedor"}},fieldsProposicoes:{id:{key:"id",label:"ID"},ano:{key:"ano",label:"Ano"},ementa:{key:"ementa",label:"Ementa"}},options:[{value:2018,text:"2018"},{value:2017,text:"2017"},{value:2016,text:"2016"},{value:2015,text:"2015"}],paginaAtual:1,itensPorPagina:20,linhasTotais:0,filtro:"",proposicoes:[],linhasTotaisProposicoes:0,paginaAtualProposicoes:1}},computed:{totalGastoFiltrado:function(){for(var t=0,a=0;a<this.despesas_filtradas.length;a++)t+=parseFloat(this.despesas_filtradas[a].valorLiquido);return this.formatarValor(t)},totalGastoAno:function(){for(var t=0,a=0;a<this.despesas.length;a++)t+=parseFloat(this.despesas[a].valorLiquido);return this.formatarValor(t)},dadosGraficos:function(){var t=[],a={},s=0,e=0;a.data=[],a.name="Despesas";for(var o=0;o<this.despesas_filtradas.length;o++)if(parseInt(this.despesas_filtradas[o].mes)>s||this.despesas_filtradas.length===o+1)if(0===s)e+=parseFloat(this.despesas_filtradas[o].valorLiquido),s=this.despesas_filtradas[o].mes;else if(this.despesas_filtradas.length===o+1){e+=parseFloat(this.despesas_filtradas[o].valorLiquido);var r=[];r.push(this.getMesAnalitico(s)),r.push(e),a.data.push(r),s=this.despesas_filtradas[o].mes,e=0}else{var i=[];i.push(this.getMesAnalitico(s)),i.push(e),a.data.push(i),s=this.despesas_filtradas[o].mes,e=0,e+=parseFloat(this.despesas_filtradas[o].valorLiquido)}else e+=parseFloat(this.despesas_filtradas[o].valorLiquido);return t.push(a),t}},mounted:function(){var t=new Date;this.ano_pesquisa=t.getFullYear(),this.buscarDeputado(),this.buscarDespesas(),this.buscarProposicoes()},methods:{buscarDeputado:function(){var t=this;this.$http.get(this.api+this.$route.params.id).then(function(a){t.deputado=a.data.dados})},buscarDespesas:function(){var t=this;this.despesas=[],this.despesas_filtradas=[],this.$http.get("https://dadosabertos.camara.leg.br/api/v2/deputados/"+this.$route.params.id+"/despesas?ano="+this.ano_pesquisa+"&itens=100&ordem=desc&ordenarPor=numMes").then(function(a){t.despesas=a.data.dados,t.despesas_filtradas=a.data.dados,t.linhasTotais=t.despesas.length;for(var s=0;s<a.data.links.length;s++)"next"===a.data.links[s].rel&&t.buscarDespesasURL(a.data.links[s].href)})},buscarDespesasURL:function(t){var a=this;this.$http.get(t+"&ordenarPor=numMes").then(function(t){a.despesas=a.despesas.concat(t.data.dados),a.despesas_filtradas=a.despesas_filtradas.concat(t.data.dados),a.linhasTotais=a.despesas.length;for(var s=0;s<t.data.links.length;s++)"next"===t.data.links[s].rel&&a.buscarDespesasURL(t.data.links[s].href)})},buscarProposicoes:function(){var t=this;this.proposicoes=[],this.$http.get("https://dadosabertos.camara.leg.br/api/v2/proposicoes?idAutor="+this.$route.params.id).then(function(a){t.proposicoes=a.data.dados,t.linhasTotaisProposicoes=t.proposicoes.length;for(var s=0;s<a.data.links.length;s++)"next"===a.data.links[s].rel&&t.buscarProposicoesURL(a.data.links[s].href)})},buscarProposicoesURL:function(t){var a=this;this.$http.get(t).then(function(t){a.proposicoes=a.proposicoes.concat(t.data.dados),a.linhasTotaisProposicoes=a.proposicoes.length;for(var s=0;s<t.data.links.length;s++)"next"===t.data.links[s].rel&&a.buscarProposicoesURL(t.data.links[s].href)})},onFiltered:function(t){this.linhasTotais=t.length,this.paginaAtual=1,this.despesas_filtradas=t},formatarValor:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:a,maximumFractionDigits:2}).format(t)},getMesAnalitico:function(t){switch(t){case"1":return"Janeiro";case"2":return"Fevereiro";case"3":return"Março";case"4":return"Abril";case"5":return"Maio";case"6":return"Junho";case"7":return"Julho";case"8":return"Agosto";case"9":return"Setembro";case"10":return"Outubro";case"11":return"Novembro";case"12":return"Dezembro";default:return"Não definido"}}},components:{CardDep:e.a}}},89:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s(42),o=s(92),r=s(96),i=s(109),n=s.n(i),d=s(128),l=s.n(d),u=s(129),c=s(278),p=s(283),f=s.n(p);e.a.use(l.a,n.a),e.a.use(u.a),e.a.use(f.a,{Chartkick:c.a}),e.a.config.productionTip=!1,new e.a({el:"#app",router:r.a,template:"<App/>",components:{App:o.a}})},92:function(t,a,s){"use strict";function e(t){s(93)}var o=s(44),r=s(95),i=s(15),n=e,d=i(o.a,r.a,!1,n,null,null);a.a=d.exports},93:function(t,a){},95:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),s("main",[s("router-view")],1)])},o=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("header",[s("span",[t._v("Dados abertos")])])}],r={render:e,staticRenderFns:o};a.a=r},96:function(t,a,s){"use strict";var e=s(42),o=s(97),r=s(98),i=s(106);e.a.use(o.a),a.a=new o.a({routes:[{path:"/",name:"Hello",component:r.a},{path:"/deputado/:id",name:"DetalhesDep",component:i.a}]})},98:function(t,a,s){"use strict";function e(t){s(99)}var o=s(45),r=s(105),i=s(15),n=e,d=i(o.a,r.a,!1,n,null,null);a.a=d.exports},99:function(t,a){}},[89]);
//# sourceMappingURL=app.2804b535a03c76b46ca3.js.map