webpackJsonp([1],{150:function(t,a){},167:function(t,a){},210:function(t,a){},36:function(t,a,e){"use strict";a.a={name:"app"}},37:function(t,a,e){"use strict";var s=e(89);a.a={name:"hello",components:{ListaDep:s.a}}},38:function(t,a,e){"use strict";var s=e(39);a.a={name:"lista-dep",data:function(){return{api:"https://dadosabertos.camara.leg.br/api/v2/deputados?itens=99&ordenarPor=nome",deputados:[],filtroDeputados:""}},mounted:function(){this.buscarDeputados()},computed:{deputadosFiltrados:function(){if(0===this.deputados.length)return{};var t=this.filtroDeputados;return this.deputados.filter(function(a){return a.nome.match(t.toUpperCase())})}},methods:{buscarDeputados:function(){var t=this;this.$http.get(this.api).then(function(a){t.deputados=a.data.dados;for(var e=0;e<a.data.links.length;e++)if("next"===a.data.links[e].rel){t.buscarDeputadosUrl(a.data.links[e].href);break}})},buscarDeputadosUrl:function(t){var a=this;this.$http.get(t).then(function(t){a.deputados=a.deputados.concat(t.data.dados);for(var e=0;e<t.data.links.length;e++)if("next"===t.data.links[e].rel){a.buscarDeputadosUrl(t.data.links[e].href);break}})}},components:{CardDep:s.a}}},39:function(t,a,e){"use strict";function s(t){e(91)}var o=e(40),n=e(92),i=e(15),r=s,d=i(o.a,n.a,!1,r,null,null);a.a=d.exports},40:function(t,a,e){"use strict";a.a={name:"card-dep",props:{nome:String,numero:String,foto:String}}},41:function(t,a,e){"use strict";var s=e(39);a.a={name:"detalhes-dep",data:function(){return{api:"https://dadosabertos.camara.leg.br/api/v2/deputados/",deputado:{},despesas:[],despesas_filtradas:[],ano_pesquisa:0,fields:{ano:{key:"ano",label:"Ano"},mes:{key:"mes",label:"Mês"},tipoDespesa:{key:"tipoDespesa",label:"Tipo de despesa"},valorLiquido:{key:"valorLiquido",label:"Tipo de líquido"},dataDocumento:{key:"dataDocumento",label:"Data do documento"},nomeFornecedor:{key:"nomeFornecedor",label:"Fornecedor"}},options:[{value:2018,text:"2018"},{value:2017,text:"2017"},{value:2016,text:"2016"},{value:2015,text:"2015"}],paginaAtual:1,itensPorPagina:20,linhasTotais:0,filtro:""}},computed:{totalGastoFiltrado:function(){for(var t=0,a=0;a<this.despesas_filtradas.length;a++)t+=parseFloat(this.despesas_filtradas[a].valorLiquido);return this.formatarValor(t)},totalGastoAno:function(){for(var t=0,a=0;a<this.despesas.length;a++)t+=parseFloat(this.despesas[a].valorLiquido);return this.formatarValor(t)}},mounted:function(){var t=new Date;this.ano_pesquisa=t.getFullYear(),this.buscarDeputado(),this.buscarDespesas()},methods:{buscarDeputado:function(){var t=this;this.$http.get(this.api+this.$route.params.id).then(function(a){t.deputado=a.data.dados})},buscarDespesas:function(){var t=this;this.despesas=[],this.despesas_filtradas=[],this.$http.get("https://dadosabertos.camara.leg.br/api/v2/deputados/"+this.$route.params.id+"/despesas?ano="+this.ano_pesquisa+"&itens=100&ordem=desc&ordenarPor=numMes").then(function(a){t.despesas=a.data.dados,t.despesas_filtradas=a.data.dados,t.linhasTotais=t.despesas.length;for(var e=0;e<a.data.links.length;e++)"next"===a.data.links[e].rel&&t.buscarDespesasURL(a.data.links[e].href)})},buscarDespesasURL:function(t){var a=this;this.$http.get(t).then(function(t){a.despesas=a.despesas.concat(t.data.dados),a.despesas_filtradas=a.despesas_filtradas.concat(t.data.dados),a.linhasTotais=a.despesas.length;for(var e=0;e<t.data.links.length;e++)"next"===t.data.links[e].rel&&a.buscarDespesasURL(t.data.links[e].href)})},onFiltered:function(t){this.linhasTotais=t.length,this.paginaAtual=1,this.despesas_filtradas=t},formatarValor:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:a,maximumFractionDigits:2}).format(t)}},components:{CardDep:s.a}}},78:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(34),o=e(81),n=e(85),i=e(98),r=e.n(i),d=e(117),u=e.n(d),l=e(118);s.a.use(u.a,r.a),s.a.use(l.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:n.a,template:"<App/>",components:{App:o.a}})},81:function(t,a,e){"use strict";function s(t){e(82)}var o=e(36),n=e(84),i=e(15),r=s,d=i(o.a,n.a,!1,r,null,null);a.a=d.exports},82:function(t,a){},84:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),e("main",[e("router-view")],1)])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",[e("span",[t._v("Dados abertos")])])}],n={render:s,staticRenderFns:o};a.a=n},85:function(t,a,e){"use strict";var s=e(34),o=e(86),n=e(87),i=e(95);s.a.use(o.a),a.a=new o.a({routes:[{path:"/",name:"Hello",component:n.a},{path:"/deputado/:id",name:"DetalhesDep",component:i.a}]})},87:function(t,a,e){"use strict";function s(t){e(88)}var o=e(37),n=e(94),i=e(15),r=s,d=i(o.a,n.a,!1,r,null,null);a.a=d.exports},88:function(t,a){},89:function(t,a,e){"use strict";function s(t){e(90)}var o=e(38),n=e(93),i=e(15),r=s,d=i(o.a,n.a,!1,r,null,null);a.a=d.exports},90:function(t,a){},91:function(t,a){},92:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-col",{attrs:{md:"2",sm:"12"}},[e("b-card",{staticClass:"mb-2",attrs:{tag:"article"}},[e("b-card-img",{attrs:{src:t.foto,alt:"Image",top:!0}}),t._v(" "),e("p",{staticClass:"card-text"},[t._v("\n      "+t._s(t.nome)+"\n    ")]),t._v(" "),e("b-button",{attrs:{to:"/deputado/"+t.numero,variant:"primary"}},[t._v("Ver detalhes")])],1)],1)},o=[],n={render:s,staticRenderFns:o};a.a=n},93:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{attrs:{fluid:""}},[0!=t.deputados.length?e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{attrs:{id:"nome",label:"Nome do deputado","label-for":"inputNome",description:"Pesquie o deputado pelo nome"}},[e("b-form-input",{attrs:{id:"inputNome",type:"text",placeholder:"Tiririca"},model:{value:t.filtroDeputados,callback:function(a){t.filtroDeputados=a},expression:"filtroDeputados"}})],1)],1),t._v(" "),t._l(t.deputadosFiltrados,function(t){return e("card-dep",{attrs:{nome:t.nome,foto:t.urlFoto,numero:String(t.id)}})})],2):t._e()],1)},o=[],n={render:s,staticRenderFns:o};a.a=n},94:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{attrs:{fluid:""}},[e("div",{staticClass:"hello"},[e("h1",[t._v("Deputados - Dados abertos")]),t._v(" "),e("b-alert",{attrs:{show:""}},[t._v("Todos os dados apresentados são disponibilizados pela câmara dos deputados.")]),t._v(" "),e("lista-dep")],1)])},o=[],n={render:s,staticRenderFns:o};a.a=n},95:function(t,a,e){"use strict";function s(t){e(96)}var o=e(41),n=e(97),i=e(15),r=s,d=i(o.a,n.a,!1,r,null,null);a.a=d.exports},96:function(t,a){},97:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",{attrs:{fluid:""}},[void 0!=t.deputado.ultimoStatus?e("div",{staticClass:"detalhes-dep"},[e("b-img",{attrs:{src:t.deputado.ultimoStatus.urlFoto}}),t._v(" "),e("h1",[t._v(t._s(t.deputado.nomeCivil))]),t._v(" "),e("p",[t._v("\n      Partido: "+t._s(t.deputado.ultimoStatus.siglaPartido)),e("br"),t._v("\n      Município de nascimento: "+t._s(t.deputado.municipioNascimento)),e("br"),t._v("\n      UF de nascimento: "+t._s(t.deputado.ufNascimento)+" "),e("br"),t._v("\n      Escolaridade: "+t._s(t.deputado.escolaridade)+" "),e("br"),t._v("\n      Email: "+t._s(t.deputado.ultimoStatus.gabinete.email)+" "),e("br"),t._v("\n      Condição eleitoral: "+t._s(t.deputado.ultimoStatus.condicaoEleitoral)+" "),e("br"),t._v("\n      Total gasto em "+t._s(t.ano_pesquisa)+": "),e("strong",[t._v("R$"+t._s(t.totalGastoAno))]),t._v(" "),e("br"),t._v("\n      Total gasto filtrado: "),e("strong",[t._v("R$"+t._s(t.totalGastoFiltrado))]),t._v(" "),e("br")])],1):t._e(),t._v(" "),e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-select",{staticClass:"mb-3",attrs:{options:t.options},on:{input:t.buscarDespesas},model:{value:t.ano_pesquisa,callback:function(a){t.ano_pesquisa=a},expression:"ano_pesquisa"}})],1),t._v(" "),e("b-col",{attrs:{cols:"12"}},[e("b-form-input",{staticClass:"mb-3",attrs:{type:"text",placeholder:"Pesquise nas despesas..."},model:{value:t.filtro,callback:function(a){t.filtro=a},expression:"filtro"}})],1),t._v(" "),e("b-col",{attrs:{cols:"12"}},[e("b-table",{attrs:{filter:t.filtro,"per-page":t.itensPorPagina,"current-page":t.paginaAtual,responsive:"",bordered:"",striped:"",hover:"",fields:t.fields,items:t.despesas},on:{filtered:t.onFiltered}})],1),t._v(" "),e("b-col",{attrs:{cols:"12"}},[e("b-pagination",{staticClass:"my-0",attrs:{align:"center","total-rows":t.linhasTotais,"per-page":t.itensPorPagina},model:{value:t.paginaAtual,callback:function(a){t.paginaAtual=a},expression:"paginaAtual"}})],1)],1)],1)},o=[],n={render:s,staticRenderFns:o};a.a=n}},[78]);
//# sourceMappingURL=app.771ce15c248d342e8504.js.map